[gd_scene load_steps=8 format=3 uid="uid://rr2ytmqkx1ab"]

[ext_resource type="Script" path="res://src/scripts/machines/furnace.gd" id="1_by56t"]
[ext_resource type="Texture2D" uid="uid://co5nr7gxnqfbv" path="res://src/img/sheets/props/MultiTilemachines.png" id="2_b25wu"]
[ext_resource type="PackedScene" uid="uid://bjsitfm2itrmk" path="res://src/scenes/UI/inv/inv_grid.tscn" id="3_mtpd0"]

[sub_resource type="Gradient" id="Gradient_y8vr0"]
colors = PackedColorArray(0.555125, 0.284971, 1.92523e-07, 1, 0.450648, 0.450648, 0.450648, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f8dal"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_muadu"]
size = Vector2(32, 32)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_0cghn"]

[node name="furnace" type="StaticBody2D" node_paths=PackedStringArray("UiInvContainer", "inventory_node", "outInventory_node", "MouseDetectionPanel", "ItemOutputsNode", "ItemInputsNode", "BuildingModeInAndOutPreview", "colisionShape", "tierColor", "Model") groups=["poluentes"]]
collision_layer = 4
collision_mask = 4
input_pickable = true
script = ExtResource("1_by56t")
Machine = "furnace"
UiInvContainer = NodePath("model/Inputs")
inventory_node = NodePath("inventory/inv_grid")
outInventory_node = NodePath("inventory/inv_grid2")
MouseDetectionPanel = NodePath("Panel")
ItemOutputsNode = NodePath("model/Outputs")
ExpectedItemsOutput = {
0: 0,
7: "escoria"
}
ItemInputsNode = NodePath("model/Inputs")
BuildingModeInAndOutPreview = NodePath("model/Inputs-outputs")
Type = 1
colisionShape = NodePath("CollisionShape2D")
tierColor = NodePath("model/minner")
Model = NodePath("model")

[node name="model" type="Node2D" parent="."]
z_index = 1
position = Vector2(16, 16)

[node name="minner" type="Polygon2D" parent="model"]
show_behind_parent = true
polygon = PackedVector2Array(24, -24, 8.10251, -24, 8, -32, -8, -32, -8, -32, -8, -24, -24, -24, -24, -8, -32, -8, -32, 8, -24, 8, -24, 24, -8, 24, -8, 32, 8, 32, 8, 24, 24, 24, 24, 8, 32, 8, 32, -8, 24, -8)

[node name="layer0" type="Sprite2D" parent="model"]
position = Vector2(4.76837e-07, 4.76837e-07)
texture = ExtResource("2_b25wu")
region_enabled = true
region_rect = Rect2(0, 64, 64, 64)

[node name="Inputs-outputs" type="Node2D" parent="model"]
z_index = 1000

[node name="Line2D2" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(16, 33.6)
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(1, 0.435294, 0, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D4" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(48, -16)
rotation = 1.5708
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D5" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(-48, -16)
rotation = -1.57079
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(-16, 33.6)
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(1, 0, 0, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D7" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(-16, -48)
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D8" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(16, -48)
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D6" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(48, 16)
rotation = 1.5708
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D3" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(-48, 16)
rotation = -1.57079
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Outputs" type="Node2D" parent="model"]

[node name="0" type="Marker2D" parent="model/Outputs"]
position = Vector2(-16, 16)

[node name="0" type="RayCast2D" parent="model/Outputs/0"]
position = Vector2(0, 17)
target_position = Vector2(0, 16)
collision_mask = 4
hit_from_inside = true

[node name="1" type="Marker2D" parent="model/Outputs"]
position = Vector2(16, 16)

[node name="7" type="RayCast2D" parent="model/Outputs/1"]
position = Vector2(0, 17)
target_position = Vector2(0, 16)
collision_mask = 4
hit_from_inside = true

[node name="Inputs" type="Node2D" parent="model"]
position = Vector2(-16, -16)

[node name="0" type="Marker2D" parent="model/Inputs"]

[node name="1" type="Marker2D" parent="model/Inputs"]
position = Vector2(32, 0)

[node name="2" type="Marker2D" parent="model/Inputs"]
position = Vector2(0, 32)

[node name="3" type="Marker2D" parent="model/Inputs"]
position = Vector2(32, 32)

[node name="CPUParticles2D" type="CPUParticles2D" parent="."]
z_index = 1
position = Vector2(16, 16)
emitting = false
amount = 20
gravity = Vector2(0, -30)
angular_velocity_min = -236.84
angular_velocity_max = 189.47
radial_accel_min = -1.65
radial_accel_max = 5.0
tangential_accel_min = -20.0
tangential_accel_max = 20.0
scale_amount_min = 5.0
scale_amount_max = 6.0
color_ramp = SubResource("Gradient_y8vr0")
hue_variation_min = 1.0
hue_variation_max = 1.0

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(16, 16)
shape = SubResource("RectangleShape2D_f8dal")

[node name="item_detector" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="item_detector"]
position = Vector2(16, 16)
shape = SubResource("RectangleShape2D_muadu")
debug_color = Color(1, 0.364706, 0, 0.419608)

[node name="inventory" type="Node2D" parent="."]
z_index = 4000
position = Vector2(16, 16)

[node name="inv_grid" parent="inventory" instance=ExtResource("3_mtpd0")]
offset_left = 32.0
offset_top = -32.0
offset_right = 96.0
offset_bottom = -16.0

[node name="inv_grid2" parent="inventory" instance=ExtResource("3_mtpd0")]
offset_left = 32.0
offset_top = -16.0
offset_right = 96.0
offset_bottom = 0.0

[node name="Panel" type="Panel" parent="."]
offset_left = -16.0
offset_top = -16.0
offset_right = 48.0
offset_bottom = 48.0
theme_override_styles/panel = SubResource("StyleBoxEmpty_0cghn")
