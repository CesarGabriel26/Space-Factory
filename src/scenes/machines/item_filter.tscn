[gd_scene load_steps=18 format=3 uid="uid://cd7gbufowd0ok"]

[ext_resource type="Script" path="res://src/scripts/machines/item_filter.gd" id="1_y2u2e"]
[ext_resource type="Texture2D" uid="uid://c70f5ot5m46da" path="res://src/img/sheets/props/SingleTileMachines.png" id="2_bqkbk"]
[ext_resource type="PackedScene" uid="uid://bjsitfm2itrmk" path="res://src/scenes/UI/inv/inv_grid.tscn" id="4_7ivqo"]
[ext_resource type="Script" path="res://src/scripts/ui/inv/ItemSelection.gd" id="4_8pkhj"]
[ext_resource type="PackedScene" uid="uid://602nv7eikcga" path="res://src/scenes/UI/inv/item_selection_grid.tscn" id="4_lsjkd"]
[ext_resource type="ButtonGroup" uid="uid://expau5vu2y3a" path="res://src/resources/UI/item_filter_tab_group.tres" id="5_g0yif"]
[ext_resource type="ButtonGroup" uid="uid://bggh6soq544ie" path="res://src/resources/UI/item_filter_item_group.tres" id="6_ef0ia"]
[ext_resource type="StyleBox" uid="uid://5qyfpia06pay" path="res://src/styles/itemFilter/item_filter_tab1.tres" id="8_sibyc"]
[ext_resource type="StyleBox" uid="uid://do1pkmio5dea0" path="res://src/styles/itemFilter/item_filter_tab2.tres" id="9_fsim1"]
[ext_resource type="StyleBox" uid="uid://bico85hybkpvo" path="res://src/styles/itemFilter/item_filter_tab3.tres" id="10_rnm1d"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_dm1bq"]
size = Vector2(32, 32)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_ei7ol"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_xrj4d"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_lujyt"]

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_navt7"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_sa84q"]
bg_color = Color(0.6, 0.6, 0.6, 0)
border_width_left = 1
border_width_top = 1
border_width_right = 1
border_width_bottom = 1
border_color = Color(1, 0.913725, 0.427451, 1)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_l5qv0"]

[node name="itemFilter" type="StaticBody2D" node_paths=PackedStringArray("colisionShape", "tierColor", "Model", "outInventory_node", "MouseDetectionPanel", "ItemOutputsNode", "ItemInputsNode", "BuildingModeInAndOutPreview")]
collision_layer = 4
collision_mask = 4
script = ExtResource("1_y2u2e")
Type = 3
out_direction = Vector2(0, 0)
colisionShape = NodePath("CollisionShape2D")
tierColor = NodePath("model/Polygon2D")
Model = NodePath("model")
outInventory_node = NodePath("inventory/inv_grid")
MouseDetectionPanel = NodePath("Panel")
ItemOutputsNode = NodePath("Outputs")
ItemInputsNode = NodePath("Inputs")
BuildingModeInAndOutPreview = NodePath("model/Inputs-outputs")

[node name="model" type="Node2D" parent="."]

[node name="Polygon2D" type="Polygon2D" parent="model"]
color = Color(0, 1, 1, 1)
polygon = PackedVector2Array(16, -16, -16, -16, -16, 16, 16, 16)

[node name="layer0" type="Sprite2D" parent="model"]
z_index = 1
rotation = -3.14159
texture = ExtResource("2_bqkbk")
region_enabled = true
region_rect = Rect2(0, 0, 32, 32)

[node name="Inputs-outputs" type="Node2D" parent="model"]
z_index = 1000

[node name="Line2D" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(-9.53674e-07, 17)
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(1, 0, 0, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D3" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(17, 1.90735e-06)
rotation = -1.57079
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(1, 0, 0, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D4" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(-17, 8.18545e-12)
rotation = -4.71238
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(1, 0, 0, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Line2D2" type="Line2D" parent="model/Inputs-outputs"]
position = Vector2(0, -30)
scale = Vector2(0.8, 0.8)
points = PackedVector2Array(0, 0, 0, 8, -8, 5, 0, 15, 8, 5, 0, 8)
width = 2.0
default_color = Color(0.116512, 0.520446, 1, 1)
joint_mode = 2
begin_cap_mode = 2
end_cap_mode = 2

[node name="Item" type="Sprite2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
visible = false
shape = SubResource("RectangleShape2D_dm1bq")

[node name="inventory" type="Node2D" parent="."]
z_index = 4000

[node name="inv_grid" parent="inventory" instance=ExtResource("4_7ivqo")]
offset_left = 16.0
offset_top = -16.0
offset_right = 32.0
offset_bottom = 0.0
columns = 1

[node name="ItemSelection" type="Control" parent="inventory"]
visible = false
layout_mode = 3
anchors_preset = 0
offset_left = 16.0
offset_top = -56.0
offset_right = 96.0
offset_bottom = 16.0
script = ExtResource("4_8pkhj")
TabButtonGroup = ExtResource("5_g0yif")
ItemButtonGroup = ExtResource("6_ef0ia")

[node name="Panel" type="Panel" parent="inventory/ItemSelection"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="CenterContainer" type="CenterContainer" parent="inventory/ItemSelection"]
layout_mode = 0
offset_left = 2.0
offset_top = 22.0
offset_right = 78.0
offset_bottom = 70.0

[node name="ScrollContainer" type="ScrollContainer" parent="inventory/ItemSelection/CenterContainer"]
custom_minimum_size = Vector2(64, 48)
layout_mode = 2
mouse_filter = 0
horizontal_scroll_mode = 0

[node name="item_selection_grid" parent="inventory/ItemSelection/CenterContainer/ScrollContainer" instance=ExtResource("4_lsjkd")]
clip_contents = true
custom_minimum_size = Vector2(64, 48)
layout_mode = 2

[node name="Saidas" type="Control" parent="inventory/ItemSelection"]
anchors_preset = 0
offset_left = 2.0
offset_top = 3.0
offset_right = 78.0
offset_bottom = 21.0

[node name="CenterContainer" type="CenterContainer" parent="inventory/ItemSelection/Saidas"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2

[node name="HBoxContainer" type="HBoxContainer" parent="inventory/ItemSelection/Saidas/CenterContainer"]
layout_mode = 2

[node name="Saida0" type="Panel" parent="inventory/ItemSelection/Saidas/CenterContainer/HBoxContainer"]
custom_minimum_size = Vector2(8, 8)
layout_mode = 2
theme_override_styles/panel = ExtResource("8_sibyc")

[node name="1" type="Button" parent="inventory/ItemSelection/Saidas/CenterContainer/HBoxContainer/Saida0"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/normal = SubResource("StyleBoxEmpty_ei7ol")
theme_override_styles/hover = SubResource("StyleBoxEmpty_xrj4d")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_lujyt")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_navt7")
theme_override_styles/focus = SubResource("StyleBoxFlat_sa84q")
toggle_mode = true
button_group = ExtResource("5_g0yif")

[node name="Saida1" type="Panel" parent="inventory/ItemSelection/Saidas/CenterContainer/HBoxContainer"]
custom_minimum_size = Vector2(8, 8)
layout_mode = 2
theme_override_styles/panel = ExtResource("9_fsim1")

[node name="2" type="Button" parent="inventory/ItemSelection/Saidas/CenterContainer/HBoxContainer/Saida1"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/normal = SubResource("StyleBoxEmpty_ei7ol")
theme_override_styles/hover = SubResource("StyleBoxEmpty_xrj4d")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_lujyt")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_navt7")
theme_override_styles/focus = SubResource("StyleBoxFlat_sa84q")
toggle_mode = true
button_group = ExtResource("5_g0yif")

[node name="Saida2" type="Panel" parent="inventory/ItemSelection/Saidas/CenterContainer/HBoxContainer"]
custom_minimum_size = Vector2(8, 8)
layout_mode = 2
theme_override_styles/panel = ExtResource("10_rnm1d")

[node name="3" type="Button" parent="inventory/ItemSelection/Saidas/CenterContainer/HBoxContainer/Saida2"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
theme_override_styles/normal = SubResource("StyleBoxEmpty_ei7ol")
theme_override_styles/hover = SubResource("StyleBoxEmpty_xrj4d")
theme_override_styles/pressed = SubResource("StyleBoxEmpty_lujyt")
theme_override_styles/disabled = SubResource("StyleBoxEmpty_navt7")
theme_override_styles/focus = SubResource("StyleBoxFlat_sa84q")
toggle_mode = true
button_group = ExtResource("5_g0yif")

[node name="Panel" type="Panel" parent="."]
offset_left = -16.0
offset_top = -16.0
offset_right = 16.0
offset_bottom = 16.0
theme_override_styles/panel = SubResource("StyleBoxEmpty_l5qv0")

[node name="Outputs" type="Node2D" parent="."]

[node name="0" type="Marker2D" parent="Outputs"]

[node name="2" type="RayCast2D" parent="Outputs/0"]
position = Vector2(0, 17)
target_position = Vector2(0, 16)
collision_mask = 4
hit_from_inside = true

[node name="3" type="RayCast2D" parent="Outputs/0"]
position = Vector2(17, 0)
target_position = Vector2(16, 0)
collision_mask = 4
hit_from_inside = true

[node name="1" type="RayCast2D" parent="Outputs/0"]
position = Vector2(-17, 0)
target_position = Vector2(-16, 0)
collision_mask = 4
hit_from_inside = true

[node name="Inputs" type="Node2D" parent="."]

[node name="center" type="Marker2D" parent="Inputs"]
z_index = 4096
