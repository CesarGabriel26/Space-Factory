[gd_scene load_steps=9 format=3 uid="uid://rr2ytmqkx1ab"]

[ext_resource type="Script" path="res://src/scripts/machines/furnace.gd" id="1_by56t"]
[ext_resource type="Texture2D" uid="uid://co5nr7gxnqfbv" path="res://src/img/sheets/props/MultiTilemachines.png" id="2_b25wu"]
[ext_resource type="PackedScene" uid="uid://bjsitfm2itrmk" path="res://src/scenes/UI/inv/inv_grid.tscn" id="3_mtpd0"]

[sub_resource type="Curve" id="Curve_hjwi5"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="Gradient" id="Gradient_lxbq5"]
offsets = PackedFloat32Array(0, 0.5, 1)
colors = PackedColorArray(1, 0.87451, 0.360784, 1, 0.890196, 0.435294, 0, 1, 0.277528, 0.277528, 0.277528, 1)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_f8dal"]
size = Vector2(64, 64)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_muadu"]
size = Vector2(32, 32)

[sub_resource type="StyleBoxEmpty" id="StyleBoxEmpty_0cghn"]

[node name="furnace" type="StaticBody2D" node_paths=PackedStringArray("inventory_node", "MouseDetectionPanel", "ItemOutputsNode", "ItemInputsNode")]
collision_layer = 4
collision_mask = 4
input_pickable = true
script = ExtResource("1_by56t")
Type = 1
inventory_node = NodePath("inventory/inv_grid")
MouseDetectionPanel = NodePath("Panel")
ItemOutputsNode = NodePath("Outputs")
ItemInputsNode = NodePath("Inputs")

[node name="model" type="Node2D" parent="."]
z_index = 1
position = Vector2(16, 16)

[node name="minner" type="Polygon2D" parent="model"]
show_behind_parent = true
polygon = PackedVector2Array(24, -24, 8.10251, -24, 8, -32, -8, -32, -8, -32, -8, -24, -24, -24, -24, -8, -32, -8, -32, 8, -24, 8, -24, 24, -8, 24, -8, 32, 8, 32, 8, 24, 24, 24, 24, 8, 32, 8, 32, -8, 24, -8)

[node name="layer0" type="Sprite2D" parent="model"]
position = Vector2(4.76837e-07, 4.76837e-07)
texture = ExtResource("2_b25wu")
region_enabled = true
region_rect = Rect2(0, 64, 64, 64)

[node name="CPUParticles2D" type="CPUParticles2D" parent="model"]
z_index = 1
emitting = false
amount = 40
spread = 180.0
gravity = Vector2(0, 0)
initial_velocity_max = 35.0
angular_velocity_max = 15.0
scale_amount_max = 10.0
scale_amount_curve = SubResource("Curve_hjwi5")
color_ramp = SubResource("Gradient_lxbq5")

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2(16, 16)
shape = SubResource("RectangleShape2D_f8dal")

[node name="item_detector" type="Area2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="item_detector"]
position = Vector2(16, 16)
shape = SubResource("RectangleShape2D_muadu")
debug_color = Color(1, 0.364706, 0, 0.419608)

[node name="inventory" type="Node2D" parent="."]
z_index = 4000
position = Vector2(16, 16)

[node name="inv_grid" parent="inventory" instance=ExtResource("3_mtpd0")]
offset_left = 32.0
offset_top = -32.0
offset_right = 96.0
offset_bottom = -16.0

[node name="Panel" type="Panel" parent="."]
offset_left = -16.0
offset_top = -16.0
offset_right = 48.0
offset_bottom = 48.0
theme_override_styles/panel = SubResource("StyleBoxEmpty_0cghn")

[node name="Outputs" type="Node2D" parent="."]

[node name="0" type="Marker2D" parent="Outputs"]
position = Vector2(0, 32)

[node name="0" type="RayCast2D" parent="Outputs/0"]
position = Vector2(0, 17)
target_position = Vector2(0, 16)
collision_mask = 4
hit_from_inside = true

[node name="1" type="RayCast2D" parent="Outputs/0"]
position = Vector2(-17, 0)
target_position = Vector2(-16, 0)
collision_mask = 4
hit_from_inside = true

[node name="1" type="Marker2D" parent="Outputs"]
position = Vector2(32, 32)

[node name="6" type="RayCast2D" parent="Outputs/1"]
position = Vector2(17, 0)
target_position = Vector2(16, 0)
collision_mask = 4
hit_from_inside = true

[node name="7" type="RayCast2D" parent="Outputs/1"]
position = Vector2(0, 17)
target_position = Vector2(0, 16)
collision_mask = 4
hit_from_inside = true

[node name="Inputs" type="Node2D" parent="."]

[node name="0" type="Marker2D" parent="Inputs"]

[node name="1" type="Marker2D" parent="Inputs"]
position = Vector2(32, 0)
